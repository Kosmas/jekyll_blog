---
layout: post
title: build association for has_one in rails
date: 2013-11-05 15:34:01.000000000 +01:00
categories:
- Ruby
- ruby on rails
tags:
- association
- build
- has_many
- has_one
- ruby on rails
status: publish
type: post
published: true
meta:
  _edit_last: '2'
author:
  login: kosmas
  email: kosmas@mach7x.com
  display_name: kosmas
  first_name: Kosmas
  last_name: Chatzimichalis
---
<p><strong>Problem</strong></p>
<p>You would like to use the build method for creating an association (details) that belongs to another assocation (user).<br />
When the user has many details then you would have something like the following:</p>
<pre class="shell">class User < ActiveRecord::Base
  has_many :details
end
</pre>
<p>then you could do:</p>
<pre class="shell">User.details.build</pre>
<p>but when you have:</p>
<pre class="shell">class User < ActiveRecord::Base
  has_one :detail
end
</pre>
<p>would throw an error:</p>
<pre class="shell">NoMethodError: undefined method `build' ...</pre>
<p><strong>Solution</strong></p>
<p>In order to be able to use the build in a has_one relation you would need to use like:</p>
<pre class="shell">User.build_detail</pre>
