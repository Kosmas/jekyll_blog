---
layout: post
title: Rails Passenger Staging environment problem in Dreamhost
date: 2010-09-09 09:28:07.000000000 +02:00
categories:
- Apache
- Dreamhost
- linux
- Phusion Passenger
- ruby on rails
tags:
- apache
- Dreamhost
- Passenger
- phusion passenger
- Staging
status: publish
type: post
published: true
meta:
  _edit_last: '2'
  _wp_old_slug: ''
author:
  login: kosmas
  email: kosmas@mach7x.com
  display_name: kosmas
  first_name: Kosmas
  last_name: Chatzimichalis
---
<p><strong>Problem</strong><br />
You want to deploy your rails application using Passenger in Dreamhost, but on a staging environment. It doesn't work just changing your Capistrano recipe or your environment files, as the default environment for passenger is 'production'.</p>
<p><strong>Solution</strong><br />
Looking at the Passenger documentation <a href="http://www.modrails.com/documentation/Users%20guide%20Apache.html#rails_env">here</a>, there are four different ways of achieving that by changing the RailsEnv option. If you don't want to change the Apache configuration files, and as long as the option AllowOverride is on (which should be on Dreamhost), then you would need to create an .htaccess file in your application's public folder with the following:</p>
<p><span class="code">RailsEnv staging</span> </p>
